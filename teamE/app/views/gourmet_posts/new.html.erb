<%= javascript_pack_tag 'gourmet_posts/new' %>

<div class='card p-4 mx-auto' style="width: 50rem;">
  <%= form_with model: @post, url: gourmet_posts_path, local: true, class: 'mt-3'  do |form| %>
    <div class='mb-3'>
      <%= form.label :title, 'タイトル', class: 'd-block' %>
      <%= form.text_field :title, class: 'w-100 rounded' %>
    </div>
    <div class='mb-3'>
      <%= form.label :content, '説明', class: 'd-block' %>
      <%= form.text_area :content, class: 'w-100 rounded' %>
    </div>
    <div class='text-end'>
      <%= form.submit class: 'btn btn-primary' %>
    </div>
    <div class='mb-3'>
      <label class='border p-2 rounded', style='cursor: pointer;'>
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-camera-fill" viewBox="0 0 16 16">
          <path d="M10.5 8.5a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"/>
          <path d="M2 4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-1.172a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 9.172 2H6.828a2 2 0 0 0-1.414.586l-.828.828A2 2 0 0 1 3.172 4H2zm.5 2a.5.5 0 1 1 0-1 .5.5 0 0 1 0 1zm9 2.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0z"/>
        </svg>
        <span class="ml-5">画像を選択する</span>
        <%= form.file_field :picture, onchange: 'previewImage(event)', style: "display:none;" %>
      </label>
    </div>
    <div class='mb-3' style="width: 400px; height: 400px;">
      <% if @post.picture.attached? %>
        <%= image_tag @post.picture, class: 'rounded-3 border', id: 'preview', style: 'width: 100%; height: 100%; object-fit: contain;' %>
      <% else %>
        <%= image_tag '/no_image.jpeg', class: 'rounded-3 border', id: 'preview', style: 'width: 100%; height: 100%; object-fit: contain;' %>
      <% end %>
    </div>
  <% end %>
</div>
